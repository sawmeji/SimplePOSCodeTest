{"ast":null,"code":"import { ModalDialogComponent } from 'src/app/widgets/modal-dialog/modal-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/api/item.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../widgets/top-page/top-page.component\";\nimport * as i4 from \"../../widgets/modal-dialog/modal-dialog.component\";\nfunction ShopItemComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function ShopItemComponent_tr_18_Template_a_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addToSell(item_r2));\n    });\n    i0.ɵɵtext(9, \"Add To Cart\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\")(11, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function ShopItemComponent_tr_18_Template_a_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.edit(item_r2.id));\n    });\n    i0.ɵɵtext(12, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.price);\n  }\n}\nfunction ShopItemComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function ShopItemComponent_tr_36_Template_a_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.edit(item_r6.id));\n    });\n    i0.ɵɵtext(13, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.totalPrice);\n  }\n}\nexport class ShopItemComponent {\n  constructor(service) {\n    this.service = service;\n  }\n  ngOnInit() {\n    this.initFormData();\n    this.show();\n  }\n  addNewShop() {\n    this.initFormData();\n    this.dialog?.show();\n  }\n  save(form) {\n    this.service.save(form).subscribe(_ => {\n      this.initFormData();\n      this.search();\n      this.dialog?.hide();\n    });\n  }\n  search() {\n    this.service.search().subscribe(result => this.shopList = result);\n  }\n  initFormData() {\n    this.targetData = {\n      id: 0,\n      name: '',\n      price: ''\n    };\n  }\n  addToCart(id) {\n    this.service.addToCart(id).subscribe(result => {\n      console.log(result);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nShopItemComponent.ɵfac = function ShopItemComponent_Factory(t) {\n  return new (t || ShopItemComponent)(i0.ɵɵdirectiveInject(i1.ItemService));\n};\nShopItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ShopItemComponent,\n  selectors: [[\"ng-component\"]],\n  viewQuery: function ShopItemComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(ModalDialogComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dialog = _t.first);\n    }\n  },\n  decls: 37,\n  vars: 4,\n  consts: [[\"title\", \"Shop Item\", \"icon\", \"bi-tags\"], [\"actions\", \"\"], [1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"bi\", \"bi-plus-lg\", \"me-1\"], [1, \"row\", \"row-cols-3\", \"g-3\", \"mt-2\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [\"modalId\", \"shopItem\", 3, \"title\"], [3, \"formData\", \"saveListener\"], [1, \"btn\", \"btn-outline-dark\", 3, \"click\"], [3, \"click\"]],\n  template: function ShopItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"widget-top-page\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function ShopItemComponent_Template_a_click_2_listener() {\n        return ctx.addNewShop();\n      });\n      i0.ɵɵelement(3, \"i\", 3);\n      i0.ɵɵtext(4, \" Add New \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"table\", 5)(7, \"thead\")(8, \"tr\")(9, \"th\");\n      i0.ɵɵtext(10, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, ShopItemComponent_tr_18_Template, 13, 3, \"tr\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"widget-modal-dialog\", 7)(20, \"app-shop-item-save\", 8);\n      i0.ɵɵlistener(\"saveListener\", function ShopItemComponent_Template_app_shop_item_save_saveListener_20_listener($event) {\n        return ctx.save($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 4)(22, \"table\", 5)(23, \"thead\")(24, \"tr\")(25, \"th\");\n      i0.ɵɵtext(26, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"th\");\n      i0.ɵɵtext(28, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"th\");\n      i0.ɵɵtext(30, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"th\");\n      i0.ɵɵtext(32, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"th\");\n      i0.ɵɵtext(34, \"Total Price\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"tbody\");\n      i0.ɵɵtemplate(36, ShopItemComponent_tr_36_Template, 14, 5, \"tr\", 6);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.shopList);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"title\", \"Add New Item\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formData\", ctx.targetData);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.itemList);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.TopPageComponent, i4.ModalDialogComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["ModalDialogComponent","i0","ShopItemComponent","constructor","service","ngOnInit","initFormData","show","addNewShop","dialog","save","form","subscribe","_","search","hide","result","shopList","targetData","id","name","price","addToCart","console","log","error","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["E:\\CodingTest(MKS)\\frontendPOS\\frontendPOS\\src\\app\\pages\\shop-item\\shop-item.component.ts","E:\\CodingTest(MKS)\\frontendPOS\\frontendPOS\\src\\app\\pages\\shop-item\\shop-item.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ItemService } from 'src/app/api/item.service';\nimport { ModalDialogComponent } from 'src/app/widgets/modal-dialog/modal-dialog.component';\n\n@Component({\n  templateUrl: './shop-item.component.html'\n})\nexport class ShopItemComponent implements OnInit {\n\n  @ViewChild(ModalDialogComponent)\n  private dialog?:ModalDialogComponent\n\n  constructor(private service:ItemService) {}\n\n  ngOnInit(): void {\n    this.initFormData()\n    this.show()\n  }\n\n  addNewShop() {\n    this.initFormData()\n    this.dialog?.show()\n  }\n\n  save(form:any) {\n    this.service.save(form).subscribe(_ => {\n      this.initFormData()\n      this.search()\n      this.dialog?.hide()\n    })\n  }\n\n  private search() {\n    this.service.search().subscribe(result => this.shopList = result)\n  }\n\n  private initFormData() {\n    this.targetData = {\n      id: 0,\n      name: '',\n      price: ''\n    }\n  }\n  \n  addToCart(id: number){\n    this.service.addToCart(id).subscribe(\n      (result) => {\n        console.log(result);\n      }, \n      (error) => {\n        console.log(error);\n      }\n  \n    );\n  }\n\n}\n","<widget-top-page title=\"Shop Item\" icon=\"bi-tags\">\n\n    <div actions>\n        <a (click)=\"addNewShop()\" class=\"btn btn-outline-primary\">\n            <i class=\"bi bi-plus-lg me-1\"></i> Add New\n        </a>\n    </div>\n\n    <div class=\"row row-cols-3 g-3 mt-2\">\n        <table class=\"table table-striped\">\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Price</th>\n                    <th>Action</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let item of shopList\">\n                    <td>{{item.id}}</td>\n                    <td>{{item.name}}</td>\n                    <td>{{item.price}}</td>\n                    <td><a (click)=\"addToSell(item)\" class=\"btn btn-outline-dark\">Add To Cart</a></td>\n                    <td><a (click)=\"edit(item.id)\">Edit</a></td>\n                </tr>\n            </tbody>\n        </table>\n\n    </div>\n\n    <widget-modal-dialog modalId=\"shopItem\" [title]=\"'Add New Item'\">\n        <app-shop-item-save [formData]=\"targetData\" (saveListener)=\"save($event)\"></app-shop-item-save>\n    </widget-modal-dialog>\n\n    <div class=\"row row-cols-3 g-3 mt-2\">\n        <table class=\"table table-striped\">\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Price</th>\n                    <th>Quantity</th>\n                    <th>Total Price</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let item of itemList\">\n                    <td>{{item.id}}</td>\n                    <td>{{item.name}}</td>\n                    <td>{{item.price}}</td>\n                    <td>{{item.quantity}}</td>\n                    <td>{{item.totalPrice}}</td>\n\n                    <td><a (click)=\"edit(item.id)\">Edit</a></td>\n                </tr>\n            </tbody>\n        </table>\n\n    </div>\n\n</widget-top-page>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}